<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/caolan/forms#readme">forms (v1.3.0)</a>
</h1>
<h4>An easy way to create, parse, and validate forms</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms">module forms</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.create">
            function <span class="apidocSignatureSpan">forms.</span>create
            <span class="apidocSignatureSpan">(fields, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.tag">
            function <span class="apidocSignatureSpan">forms.</span>tag
            <span class="apidocSignatureSpan">(tagName, attrsMap, content, contentIsEscaped)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan"></span>forms</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.</span>fields</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.</span>render</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.</span>validators</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.</span>widgets</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.fields">module forms.fields</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.array">
            function <span class="apidocSignatureSpan">forms.fields.</span>array
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.boolean">
            function <span class="apidocSignatureSpan">forms.fields.</span>boolean
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.date">
            function <span class="apidocSignatureSpan">forms.fields.</span>date
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.email">
            function <span class="apidocSignatureSpan">forms.fields.</span>email
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.number">
            function <span class="apidocSignatureSpan">forms.fields.</span>number
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.object">
            function <span class="apidocSignatureSpan">forms.fields.</span>object
            <span class="apidocSignatureSpan">(fields, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.password">
            function <span class="apidocSignatureSpan">forms.fields.</span>password
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.string">
            function <span class="apidocSignatureSpan">forms.fields.</span>string
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.tel">
            function <span class="apidocSignatureSpan">forms.fields.</span>tel
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.fields.url">
            function <span class="apidocSignatureSpan">forms.fields.</span>url
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.forms">module forms.forms</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.forms.create">
            function <span class="apidocSignatureSpan">forms.forms.</span>create
            <span class="apidocSignatureSpan">(fields, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.forms.</span>fields</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.forms.</span>render</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.forms.</span>validators</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">forms.forms.</span>widgets</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.render">module forms.render</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.render.div">
            function <span class="apidocSignatureSpan">forms.render.</span>div
            <span class="apidocSignatureSpan">(name, field, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.render.li">
            function <span class="apidocSignatureSpan">forms.render.</span>li
            <span class="apidocSignatureSpan">(name, field, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.render.p">
            function <span class="apidocSignatureSpan">forms.render.</span>p
            <span class="apidocSignatureSpan">(name, field, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.render.table">
            function <span class="apidocSignatureSpan">forms.render.</span>table
            <span class="apidocSignatureSpan">(name, field, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.tag">module forms.tag</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.tag.tag">
            function <span class="apidocSignatureSpan">forms.</span>tag
            <span class="apidocSignatureSpan">(tagName, attrsMap, content, contentIsEscaped)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.tag.attrs">
            function <span class="apidocSignatureSpan">forms.tag.</span>attrs
            <span class="apidocSignatureSpan">(a)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.validators">module forms.validators</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.alphanumeric">
            function <span class="apidocSignatureSpan">forms.validators.</span>alphanumeric
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.color">
            function <span class="apidocSignatureSpan">forms.validators.</span>color
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.date">
            function <span class="apidocSignatureSpan">forms.validators.</span>date
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.digits">
            function <span class="apidocSignatureSpan">forms.validators.</span>digits
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.email">
            function <span class="apidocSignatureSpan">forms.validators.</span>email
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.integer">
            function <span class="apidocSignatureSpan">forms.validators.</span>integer
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.matchField">
            function <span class="apidocSignatureSpan">forms.validators.</span>matchField
            <span class="apidocSignatureSpan">(match_field, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.matchValue">
            function <span class="apidocSignatureSpan">forms.validators.</span>matchValue
            <span class="apidocSignatureSpan">(valueGetter, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.max">
            function <span class="apidocSignatureSpan">forms.validators.</span>max
            <span class="apidocSignatureSpan">(val, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.maxlength">
            function <span class="apidocSignatureSpan">forms.validators.</span>maxlength
            <span class="apidocSignatureSpan">(val, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.min">
            function <span class="apidocSignatureSpan">forms.validators.</span>min
            <span class="apidocSignatureSpan">(val, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.minlength">
            function <span class="apidocSignatureSpan">forms.validators.</span>minlength
            <span class="apidocSignatureSpan">(val, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.range">
            function <span class="apidocSignatureSpan">forms.validators.</span>range
            <span class="apidocSignatureSpan">(min, max, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.rangelength">
            function <span class="apidocSignatureSpan">forms.validators.</span>rangelength
            <span class="apidocSignatureSpan">(min, max, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.regexp">
            function <span class="apidocSignatureSpan">forms.validators.</span>regexp
            <span class="apidocSignatureSpan">(regex, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.required">
            function <span class="apidocSignatureSpan">forms.validators.</span>required
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.requiresFieldIfEmpty">
            function <span class="apidocSignatureSpan">forms.validators.</span>requiresFieldIfEmpty
            <span class="apidocSignatureSpan">(alternate_field, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.validators.url">
            function <span class="apidocSignatureSpan">forms.validators.</span>url
            <span class="apidocSignatureSpan">(include_localhost, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.forms.widgets">module forms.widgets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.checkbox">
            function <span class="apidocSignatureSpan">forms.widgets.</span>checkbox
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.color">
            function <span class="apidocSignatureSpan">forms.widgets.</span>color
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.date">
            function <span class="apidocSignatureSpan">forms.widgets.</span>date
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.email">
            function <span class="apidocSignatureSpan">forms.widgets.</span>email
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.hidden">
            function <span class="apidocSignatureSpan">forms.widgets.</span>hidden
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.label">
            function <span class="apidocSignatureSpan">forms.widgets.</span>label
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.multipleCheckbox">
            function <span class="apidocSignatureSpan">forms.widgets.</span>multipleCheckbox
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.multipleRadio">
            function <span class="apidocSignatureSpan">forms.widgets.</span>multipleRadio
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.multipleSelect">
            function <span class="apidocSignatureSpan">forms.widgets.</span>multipleSelect
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.number">
            function <span class="apidocSignatureSpan">forms.widgets.</span>number
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.password">
            function <span class="apidocSignatureSpan">forms.widgets.</span>password
            <span class="apidocSignatureSpan">(opt)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.select">
            function <span class="apidocSignatureSpan">forms.widgets.</span>select
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.tel">
            function <span class="apidocSignatureSpan">forms.widgets.</span>tel
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.text">
            function <span class="apidocSignatureSpan">forms.widgets.</span>text
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.forms.widgets.textarea">
            function <span class="apidocSignatureSpan">forms.widgets.</span>textarea
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms" id="apidoc.module.forms">module forms</a></h1>


    <h2>
        <a href="#apidoc.element.forms.create" id="apidoc.element.forms.create">
        function <span class="apidocSignatureSpan">forms.</span>create
        <span class="apidocSignatureSpan">(fields, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (fields, options) {
    var opts = assign({}, options);

    var validatePastFirstError = !!opts.validatePastFirstError;

    keys(fields).forEach(function (k) {
        // if it's not a field object, create an object field.
        if (!is.fn(fields[k].toHTML) &amp;&amp; is.object(fields[k])) {
            fields[k] = exports.fields.object(fields[k], opts);
        }
        fields[k].name = k;
    });
    var f = {
        fields: fields,
        bind: function (data) {
            var b = {
                toHTML: f.toHTML,
                fields: {}
            };
            keys(f.fields).forEach(function (k) {
                if (data != null || f.fields[k].required) {
                    b.fields[k] = f.fields[k].bind((data || {})[k]);
                }
            });
            b.data = keys(b.fields).reduce(function (a, k) {
                a[k] = b.fields[k].data;
                return a;
            }, {});
            b.validate = function () {
                var callback = arguments.length &gt; 1 ? arguments[1] : arguments[0];

                async.forEach(keys(b.fields), function (k, asyncCallback) {
                    b.fields[k].validate(b, function (err, bound_field) {
                        b.fields[k] = bound_field;
                        asyncCallback(validatePastFirstError ? null : err);
                    });
                }, function (err) {
                    callback(err, b);
                });
            };
            b.isValid = function () {
                var form = this;
                return keys(form.fields).every(function (k) {
                    var field = form.fields[k];
                    if (is.fn(field.isValid)) { return field.isValid(); }
                    return field.error === null || typeof field.error === 'undefined';
                });
            };
            return b;
        },
        handle: function (obj, callbacks) {
            if (typeof obj === 'undefined' || obj === null || (is.object(obj) &amp;&amp; is.empty(obj))) {
                (callbacks.empty || callbacks.other)(f, callbacks);
            } else if (obj instanceof http.IncomingMessage) {
                if (obj.method === 'GET') {
                    var qs = parse(obj.url, { parseArrays: false }).query;
                    f.handle(querystring.parse(qs), callbacks);
                } else if (obj.method === 'POST' || obj.method === 'PUT') {
                    // If the app is using bodyDecoder for connect or express,
                    // it has already put all the POST data into request.body.
                    if (obj.body) {
                        f.handle(obj.body, callbacks);
                    } else {
                        var form = new formidable.IncomingForm();
                        form.parse(obj, function (err, originalFields/* , files*/) {
                            if (err) { throw err; }
                            var parsedFields = querystring.parse(querystring.stringify(originalFields));
                            f.handle(parsedFields, callbacks);
                        });
                    }
                } else {
                    throw new Error('Cannot handle request method: ' + obj.method);
                }
            } else if (is.object(obj)) {
                f.bind(obj).validate(function (err, field) {
                    if (field.isValid()) {
                        (callbacks.success || callbacks.other)(field, callbacks);
                    } else {
                        (callbacks.error || callbacks.other)(field, callbacks);
                    }
                });
            } else {
                throw new Error('Cannot handle type: ' + typeof obj);
            }
        },
        toHTML: function () {
            var form = this;

            var iterator = arguments.length &gt; 1 ? arguments[1] : arguments[0];
            var name = arguments.length &gt; 1 ? arguments[0] : void 0;

            return keys(form.fields).reduce(function (html, k) {
                var kname = is.string(name) ? name + '[' + k + ']' : k;
                re ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Creating an example registration form:

```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.<span class="apidocCodeKeywordSpan">create</span>({
username: fields.string({ required: true }),
password: fields.password({ required: validators.required('You definitely want a password') }),
confirm:  fields.password({
    required: validators.required('don\'t you know your own password?'),
    validators: [validators.matchField('password')]
}),
email: fields.email()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.tag" id="apidoc.element.forms.tag">
        function <span class="apidocSignatureSpan">forms.</span>tag
        <span class="apidocSignatureSpan">(tagName, attrsMap, content, contentIsEscaped)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tag(tagName, attrsMap, content, contentIsEscaped) {
    var safeTagName = htmlEscape(tagName);
    var attrsHTML = !is.array(attrsMap) ? attrs(attrsMap) : attrsMap.reduce(function (html, map) {
        return html + attrs(map);
    }, '');
    var safeContent = contentIsEscaped ? content : htmlEscape(content);
    return '&lt;' + safeTagName + attrsHTML + (isSelfClosing(safeTagName) ? ' /&gt;' : '&gt;' + safeContent + '&lt;/' + safeTagName + '&gt;');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.fields" id="apidoc.module.forms.fields">module forms.fields</a></h1>


    <h2>
        <a href="#apidoc.element.forms.fields.array" id="apidoc.element.forms.fields.array">
        function <span class="apidocSignatureSpan">forms.fields.</span>array
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">array = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    f.parse = function (raw_data) {
        if (typeof raw_data === 'undefined') { return []; }
        return is.array(raw_data) ? raw_data : [raw_data];
    };
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                callback('two?! are you crazy?!');
            } else {
                callback();
            }
        }
    ]
}),
more_options: fields.<span class="apidocCodeKeywordSpan">array</span>({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleCheckbox()
}),
even_more: fields.string({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleRadio()
}),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.boolean" id="apidoc.element.forms.fields.boolean">
        function <span class="apidocSignatureSpan">forms.fields.</span>boolean
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">boolean = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);

    f.widget = opts.widget || forms.widgets.checkbox(opts.attrs || {});
    f.parse = function (raw_data) {
        return !!raw_data;
    };
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.date" id="apidoc.element.forms.fields.date">
        function <span class="apidocSignatureSpan">forms.fields.</span>date
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.date());
    } else {
        f.validators = [forms.validators.date()];
    }
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return f;
};

exports.date = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.<span class="apidocCodeKeywordSpan">date</span>());
    } else {
        f.validators = [forms.validators.date()];
    }
    return f;
};

exports.object = function (fields, opts) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.email" id="apidoc.element.forms.fields.email">
        function <span class="apidocSignatureSpan">forms.fields.</span>email
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">email = function (opt) {
    var opts = assign({}, opt);
    if (!opts.widget) { opts.widget = forms.widgets.email(opts.attrs || {}); }
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.email());
    } else {
        f.validators = [forms.validators.email()];
    }
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.password({ required: validators.required('You definitely want a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.<span class="apidocCodeKeywordSpan">email</span>()
});
```

Rendering a HTML representation of the form:

```javascript
reg_form.toHTML();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.number" id="apidoc.element.forms.fields.number">
        function <span class="apidocSignatureSpan">forms.fields.</span>number
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">number = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);

    f.parse = function (raw_data) {
        if (raw_data === null || raw_data === '') {
            return NaN;
        }
        return Number(raw_data);
    };
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    name: fields.string({ required: true, label: 'Name' }),
    email: fields.email({ required: true, label: 'Email' }),
    address: {
        address1: fields.string({ required: true, label: 'Address 1' }),
        address2: fields.string({ label: 'Address 2' }),
        city: fields.string({ required: true, label: 'City' }),
        state: fields.string({ required: true, label: 'State' }),
        zip: fields.<span class="apidocCodeKeywordSpan">number</span>({ required: true, label: 'ZIP' })
    }
}
});

http.createServer(function (req, res) {
reg_form.handle(req, {
    success: function (form) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.object" id="apidoc.element.forms.fields.object">
        function <span class="apidocSignatureSpan">forms.fields.</span>object
        <span class="apidocSignatureSpan">(fields, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">object = function (fields, opts) {
    return forms.create(fields || {}, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.create = function (fields, options) {
var opts = assign({}, options);

var validatePastFirstError = !!opts.validatePastFirstError;

keys(fields).forEach(function (k) {
    // if it's not a field object, create an object field.
    if (!is.fn(fields[k].toHTML) &amp;&amp; is.<span class="apidocCodeKeywordSpan">object</span>(fields[k])) {
        fields[k] = exports.fields.object(fields[k], opts);
    }
    fields[k].name = k;
});
var f = {
    fields: fields,
    bind: function (data) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.password" id="apidoc.element.forms.fields.password">
        function <span class="apidocSignatureSpan">forms.fields.</span>password
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">password = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    f.widget = opts.widget || forms.widgets.password(opts.attrs || {});
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.<span class="apidocCodeKeywordSpan">password</span>({ required: validators.required('You definitely want
 a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.email()
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.string" id="apidoc.element.forms.fields.string">
        function <span class="apidocSignatureSpan">forms.fields.</span>string
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">string = function (options) {
    var opt = options || {};

    var f = assign({}, opt);
    f.widget = f.widget || forms.widgets.text(opt.attrs || {});

    f.parse = function (raw_data) {
        if (typeof raw_data !== 'undefined' &amp;&amp; raw_data !== null) {
            return String(raw_data);
        }
        return '';
    };
    f.bind = function (raw_data) {
        var b = assign({}, f); // clone field object:
        b.value = raw_data;
        b.data = b.parse(raw_data);
        b.validate = function (form, callback) {
            var forceValidation = (b.validators || []).some(function (validator) {
                return validator.forceValidation;
            });
            if (!forceValidation &amp;&amp; (raw_data === '' || raw_data === null || typeof raw_data === 'undefined')) {
                // don't validate empty fields, but check if required
                if (b.required) {
                    var validator = is.fn(b.required) ? b.required : validators.required();
                    validator(form, b, function (v_err) {
                        b.error = v_err ? String(v_err) : null;
                        callback(v_err, b);
                    });
                } else {
                    process.nextTick(function () { callback(null, b); });
                }
            } else {
                async.forEachSeries(b.validators || [], function (v, asyncCallback) {
                    if (!b.error) {
                        v(form, b, function (v_err) {
                            b.error = v_err ? String(v_err) : null;
                            asyncCallback(null);
                        });
                    } else {
                        asyncCallback(null);
                    }
                }, function (err) {
                    callback(err, b);
                });
            }
        };
        return b;
    };
    f.errorHTML = function () {
        var classes = typeof this.cssClasses !== 'undefined' ? coerceArray(this.cssClasses.error) : [];
        return this.error ? tag('p', { classes: ['error_msg'].concat(classes) }, this.error) : '';
    };
    f.labelText = function (name) {
        var text = this.label;
        if (!text &amp;&amp; name) {
            text = name.charAt(0).toUpperCase() + name.slice(1).replace(nameSeparatorRegExp, ' ').replace(/([a-z])([A-Z])/g, function
 (match, firstLetter, secondLetter) {
                return firstLetter + ' ' + secondLetter.toLowerCase();
            });
        }
        return text || '';
    };
    f.labelHTML = function (name, id) {
        if (this.widget.type === 'hidden') { return ''; }
        var forID = id === false ? false : (id || 'id_' + name);
        return forms.widgets.label({
            classes: typeof this.cssClasses !== 'undefined' ? coerceArray(this.cssClasses.label) : [],
            content: this.labelText(name, id)
        }).toHTML(forID, f);
    };
    f.classes = function () {
        var r = ['field'];
        if (this.error) { r.push('error'); }
        if (this.required) { r.push('required'); }
        if (typeof this.cssClasses !== 'undefined') {
            r = r.concat(coerceArray(this.cssClasses.field));
        }
        return r;
    };
    f.toHTML = function (name, iterator) {
        return (iterator || forms.render.div)(name || this.name, this, opt);
    };

    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.create({
    username: fields.<span class="apidocCodeKeywordSpan">string</span>({ required: true }),
    password: fields.password({ required: validators.required('You definitely want a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.email()
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.tel" id="apidoc.element.forms.fields.tel">
        function <span class="apidocSignatureSpan">forms.fields.</span>tel
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tel = function (opt) {
    var opts = assign({}, opt);
    if (!opts.widget) { opts.widget = forms.widgets.tel(opts.attrs || {}); }
    return exports.string(opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    f.validators = [forms.validators.email()];
}
return f;
};

exports.tel = function (opt) {
var opts = assign({}, opt);
if (!opts.widget) { opts.widget = forms.widgets.<span class="apidocCodeKeywordSpan">tel</span>(opts.attrs || {}); }
return exports.string(opts);
};

exports.password = function (opt) {
var opts = assign({}, opt);
var f = exports.string(opts);
f.widget = opts.widget || forms.widgets.password(opts.attrs || {});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.fields.url" id="apidoc.element.forms.fields.url">
        function <span class="apidocSignatureSpan">forms.fields.</span>url
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">url = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.url());
    } else {
        f.validators = [forms.validators.url()];
    }
    return f;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'data-toggle': 'focus'
});
*/

var complexForm = forms.create({
name: fields.string({ required: validators.required('%s is required, silly!') }),
email: fields.email({ required: true, label: 'Email Address' }),
website: fields.<span class="apidocCodeKeywordSpan">url</span>(),
password: fields.password({ required: true }),
password_confirm: fields.password({
    required: true,
    validators: [validators.matchField('password')]
}),
phone_1: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_2')] }),
phone_2: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_1')] }),
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.forms" id="apidoc.module.forms.forms">module forms.forms</a></h1>


    <h2>
        <a href="#apidoc.element.forms.forms.create" id="apidoc.element.forms.forms.create">
        function <span class="apidocSignatureSpan">forms.forms.</span>create
        <span class="apidocSignatureSpan">(fields, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (fields, options) {
    var opts = assign({}, options);

    var validatePastFirstError = !!opts.validatePastFirstError;

    keys(fields).forEach(function (k) {
        // if it's not a field object, create an object field.
        if (!is.fn(fields[k].toHTML) &amp;&amp; is.object(fields[k])) {
            fields[k] = exports.fields.object(fields[k], opts);
        }
        fields[k].name = k;
    });
    var f = {
        fields: fields,
        bind: function (data) {
            var b = {
                toHTML: f.toHTML,
                fields: {}
            };
            keys(f.fields).forEach(function (k) {
                if (data != null || f.fields[k].required) {
                    b.fields[k] = f.fields[k].bind((data || {})[k]);
                }
            });
            b.data = keys(b.fields).reduce(function (a, k) {
                a[k] = b.fields[k].data;
                return a;
            }, {});
            b.validate = function () {
                var callback = arguments.length &gt; 1 ? arguments[1] : arguments[0];

                async.forEach(keys(b.fields), function (k, asyncCallback) {
                    b.fields[k].validate(b, function (err, bound_field) {
                        b.fields[k] = bound_field;
                        asyncCallback(validatePastFirstError ? null : err);
                    });
                }, function (err) {
                    callback(err, b);
                });
            };
            b.isValid = function () {
                var form = this;
                return keys(form.fields).every(function (k) {
                    var field = form.fields[k];
                    if (is.fn(field.isValid)) { return field.isValid(); }
                    return field.error === null || typeof field.error === 'undefined';
                });
            };
            return b;
        },
        handle: function (obj, callbacks) {
            if (typeof obj === 'undefined' || obj === null || (is.object(obj) &amp;&amp; is.empty(obj))) {
                (callbacks.empty || callbacks.other)(f, callbacks);
            } else if (obj instanceof http.IncomingMessage) {
                if (obj.method === 'GET') {
                    var qs = parse(obj.url, { parseArrays: false }).query;
                    f.handle(querystring.parse(qs), callbacks);
                } else if (obj.method === 'POST' || obj.method === 'PUT') {
                    // If the app is using bodyDecoder for connect or express,
                    // it has already put all the POST data into request.body.
                    if (obj.body) {
                        f.handle(obj.body, callbacks);
                    } else {
                        var form = new formidable.IncomingForm();
                        form.parse(obj, function (err, originalFields/* , files*/) {
                            if (err) { throw err; }
                            var parsedFields = querystring.parse(querystring.stringify(originalFields));
                            f.handle(parsedFields, callbacks);
                        });
                    }
                } else {
                    throw new Error('Cannot handle request method: ' + obj.method);
                }
            } else if (is.object(obj)) {
                f.bind(obj).validate(function (err, field) {
                    if (field.isValid()) {
                        (callbacks.success || callbacks.other)(field, callbacks);
                    } else {
                        (callbacks.error || callbacks.other)(field, callbacks);
                    }
                });
            } else {
                throw new Error('Cannot handle type: ' + typeof obj);
            }
        },
        toHTML: function () {
            var form = this;

            var iterator = arguments.length &gt; 1 ? arguments[1] : arguments[0];
            var name = arguments.length &gt; 1 ? arguments[0] : void 0;

            return keys(form.fields).reduce(function (html, k) {
                var kname = is.string(name) ? name + '[' + k + ']' : k;
                re ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Creating an example registration form:

```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.<span class="apidocCodeKeywordSpan">create</span>({
username: fields.string({ required: true }),
password: fields.password({ required: validators.required('You definitely want a password') }),
confirm:  fields.password({
    required: validators.required('don\'t you know your own password?'),
    validators: [validators.matchField('password')]
}),
email: fields.email()
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.render" id="apidoc.module.forms.render">module forms.render</a></h1>


    <h2>
        <a href="#apidoc.element.forms.render.div" id="apidoc.element.forms.render.div">
        function <span class="apidocSignatureSpan">forms.render.</span>div
        <span class="apidocSignatureSpan">(name, field, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">div = function (name, field, options) {
    var opt = options || {};
    var wrappedContent = [];
    var errorHTML = opt.hideError ? '' : field.errorHTML();
    if (field.widget.type === 'multipleCheckbox' || field.widget.type === 'multipleRadio') {
        var fieldsetAttrs = { classes: [] };
        if (opt.fieldsetClasses) {
            fieldsetAttrs.classes = fieldsetAttrs.classes.concat(opt.fieldsetClasses);
        }
        var legendAttrs = { classes: [] };
        if (opt.legendClasses) {
            legendAttrs.classes = legendAttrs.classes.concat(opt.legendClasses);
        }

        var fieldset = tag('fieldset', fieldsetAttrs, [
            tag('legend', legendAttrs, field.labelText(name)),
            opt.errorAfterField ? '' : errorHTML,
            field.widget.toHTML(name, field),
            opt.errorAfterField ? errorHTML : ''
        ].join(''), true);
        wrappedContent.push(fieldset);
    } else {
        var fieldHTMLs = [field.labelHTML(name, field.id), field.widget.toHTML(name, field)];
        if (opt.labelAfterField) {
            fieldHTMLs.reverse();
        }
        if (opt.errorAfterField) {
            fieldHTMLs.push(errorHTML);
        } else {
            fieldHTMLs.unshift(errorHTML);
        }
        wrappedContent = wrappedContent.concat(fieldHTMLs);
    }
    return tag(tagName, { classes: field.classes() }, wrappedContent.join(''), true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.render.li" id="apidoc.element.forms.render.li">
        function <span class="apidocSignatureSpan">forms.render.</span>li
        <span class="apidocSignatureSpan">(name, field, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">li = function (name, field, options) {
    var opt = options || {};
    var wrappedContent = [];
    var errorHTML = opt.hideError ? '' : field.errorHTML();
    if (field.widget.type === 'multipleCheckbox' || field.widget.type === 'multipleRadio') {
        var fieldsetAttrs = { classes: [] };
        if (opt.fieldsetClasses) {
            fieldsetAttrs.classes = fieldsetAttrs.classes.concat(opt.fieldsetClasses);
        }
        var legendAttrs = { classes: [] };
        if (opt.legendClasses) {
            legendAttrs.classes = legendAttrs.classes.concat(opt.legendClasses);
        }

        var fieldset = tag('fieldset', fieldsetAttrs, [
            tag('legend', legendAttrs, field.labelText(name)),
            opt.errorAfterField ? '' : errorHTML,
            field.widget.toHTML(name, field),
            opt.errorAfterField ? errorHTML : ''
        ].join(''), true);
        wrappedContent.push(fieldset);
    } else {
        var fieldHTMLs = [field.labelHTML(name, field.id), field.widget.toHTML(name, field)];
        if (opt.labelAfterField) {
            fieldHTMLs.reverse();
        }
        if (opt.errorAfterField) {
            fieldHTMLs.push(errorHTML);
        } else {
            fieldHTMLs.unshift(errorHTML);
        }
        wrappedContent = wrappedContent.concat(fieldHTMLs);
    }
    return tag(tagName, { classes: field.classes() }, wrappedContent.join(''), true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.render.p" id="apidoc.element.forms.render.p">
        function <span class="apidocSignatureSpan">forms.render.</span>p
        <span class="apidocSignatureSpan">(name, field, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">p = function (name, field, options) {
    var opt = options || {};
    var wrappedContent = [];
    var errorHTML = opt.hideError ? '' : field.errorHTML();
    if (field.widget.type === 'multipleCheckbox' || field.widget.type === 'multipleRadio') {
        var fieldsetAttrs = { classes: [] };
        if (opt.fieldsetClasses) {
            fieldsetAttrs.classes = fieldsetAttrs.classes.concat(opt.fieldsetClasses);
        }
        var legendAttrs = { classes: [] };
        if (opt.legendClasses) {
            legendAttrs.classes = legendAttrs.classes.concat(opt.legendClasses);
        }

        var fieldset = tag('fieldset', fieldsetAttrs, [
            tag('legend', legendAttrs, field.labelText(name)),
            opt.errorAfterField ? '' : errorHTML,
            field.widget.toHTML(name, field),
            opt.errorAfterField ? errorHTML : ''
        ].join(''), true);
        wrappedContent.push(fieldset);
    } else {
        var fieldHTMLs = [field.labelHTML(name, field.id), field.widget.toHTML(name, field)];
        if (opt.labelAfterField) {
            fieldHTMLs.reverse();
        }
        if (opt.errorAfterField) {
            fieldHTMLs.push(errorHTML);
        } else {
            fieldHTMLs.unshift(errorHTML);
        }
        wrappedContent = wrappedContent.concat(fieldHTMLs);
    }
    return tag(tagName, { classes: field.classes() }, wrappedContent.join(''), true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.render.table" id="apidoc.element.forms.render.table">
        function <span class="apidocSignatureSpan">forms.render.</span>table
        <span class="apidocSignatureSpan">(name, field, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">table = function (name, field, options) {
    var opt = options || {};

    var th = tag('th', {}, field.labelHTML(name, field.id), true);

    var tdContent = field.widget.toHTML(name, field);

    if (!opt.hideError) {
        var errorHTML = field.errorHTML();
        if (opt.errorAfterField) {
            tdContent += errorHTML;
        } else {
            tdContent = errorHTML + tdContent;
        }
    }

    var td = tag('td', {}, tdContent, true);

    return tag('tr', { classes: field.classes() }, th + td, true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.tag" id="apidoc.module.forms.tag">module forms.tag</a></h1>


    <h2>
        <a href="#apidoc.element.forms.tag.tag" id="apidoc.element.forms.tag.tag">
        function <span class="apidocSignatureSpan">forms.</span>tag
        <span class="apidocSignatureSpan">(tagName, attrsMap, content, contentIsEscaped)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function tag(tagName, attrsMap, content, contentIsEscaped) {
    var safeTagName = htmlEscape(tagName);
    var attrsHTML = !is.array(attrsMap) ? attrs(attrsMap) : attrsMap.reduce(function (html, map) {
        return html + attrs(map);
    }, '');
    var safeContent = contentIsEscaped ? content : htmlEscape(content);
    return '&lt;' + safeTagName + attrsHTML + (isSelfClosing(safeTagName) ? ' /&gt;' : '&gt;' + safeContent + '&lt;/' + safeTagName + '&gt;');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.tag.attrs" id="apidoc.element.forms.tag.attrs">
        function <span class="apidocSignatureSpan">forms.tag.</span>attrs
        <span class="apidocSignatureSpan">(a)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function attrs(a) {
    if (typeof a.id === 'boolean') {
        a.id = a.id ? 'id_' + a.name : null;
    }
    if (is.array(a.classes) &amp;&amp; a.classes.length &gt; 0) {
        a['class'] = htmlEscape(a.classes.join(' '));
    }
    a.classes = null;
    var pairs = [];
    keys(a).forEach(function (field) {
        var value = a[field];
        if (typeof value === 'boolean') {
            value = value ? field : null;
        } else if (typeof value === 'number' &amp;&amp; isNaN(value)) {
            value = null;
        }
        if (typeof value !== 'undefined' &amp;&amp; value !== null) {
            pairs.push(htmlEscape(field) + '="' + htmlEscape(value) + '"');
        }
    });
    return pairs.length &gt; 0 ? ' ' + pairs.join(' ') : '';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.validators" id="apidoc.module.forms.validators">module forms.validators</a></h1>


    <h2>
        <a href="#apidoc.element.forms.validators.alphanumeric" id="apidoc.element.forms.validators.alphanumeric">
        function <span class="apidocSignatureSpan">forms.validators.</span>alphanumeric
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">alphanumeric = function (message) {
    return exports.regexp(/^[a-zA-Z0-9]*$/, message || 'Letters and numbers only.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    st.end();
});

t.end();
});

test('alphanumeric', function (t) {
var v = validators.<span class="apidocCodeKeywordSpan">alphanumeric</span>();

t.test('valid input', function (st) {
    var valids = ['asdf', '278', '123abc'];
    st.plan(valids.length);
    valids.forEach(function (input) {
        v('form', { data: input }, function (err) {
            st.equal(err, undefined);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.color" id="apidoc.element.forms.validators.color">
        function <span class="apidocSignatureSpan">forms.validators.</span>color
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">color = function (message) {
    var msg = message || 'Inputs of type "color" require hex notation, e.g. #FFF or #ABC123.';
    var re = /^#([0-9A-F]{8}|[0-9A-F]{6}|[0-9A-F]{3})$/i;
    return function (form, field, callback) {
        if (re.test(field.data)) {
            callback();
        } else {
            callback(msg);
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    t.equal(err, undefined);
});
t.end();
});

test('color', function (t) {
t.test('valid colors', function (st) {
    var v = validators.<span class="apidocCodeKeywordSpan">color</span>();
    var valids = ['#ABC', '#DEF123', '#ABCDEF12', '#01234567', '#890'];
    st.plan(valids.length);
    valids.forEach(function (color) {
        v('form', { data: color }, function (err) {
            st.equal(err, undefined);
        });
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.date" id="apidoc.element.forms.validators.date">
        function <span class="apidocSignatureSpan">forms.validators.</span>date
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (message) {
    var msg = message || 'Inputs of type "date" must be valid dates in the format "yyyy-mm-dd"';
    var numberRegex = /^[0-9]+$/,
        invalidDate = new Date('z');
    return function (form, field, callback) {
        var parts = field.data ? field.data.split('-') : [];
        var allNumbers = parts.every(function (part) { return numberRegex.test(part); });
        var date = allNumbers &amp;&amp; parts.length === 3 ? new Date(parts[0], parts[1] - 1, parts[2]) : invalidDate;
        if (!isNaN(date.getTime())) {
            callback();
        } else {
            callback(msg);
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return f;
};

exports.date = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.<span class="apidocCodeKeywordSpan">date</span>());
    } else {
        f.validators = [forms.validators.date()];
    }
    return f;
};

exports.object = function (fields, opts) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.digits" id="apidoc.element.forms.validators.digits">
        function <span class="apidocSignatureSpan">forms.validators.</span>digits
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">digits = function (message) {
    return exports.regexp(/^\d+$/, message || 'Numbers only.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
st.end();
    });

    t.end();
});

test('digits', function (t) {
    var v = validators.<span class="apidocCodeKeywordSpan">digits</span>();

    t.test('valid digits', function (st) {
var valids = ['1', '10', '100'];

st.plan(valids.length);
valids.forEach(function (input) {
    v('form', { data: input }, function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.email" id="apidoc.element.forms.validators.email">
        function <span class="apidocSignatureSpan">forms.validators.</span>email
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">email = function (message) {
    var msg = message || 'Please enter a valid email address.';
    // regular expression by Scott Gonzalez:
    // http://projects.scottsplayground.com/email_address_validation/
    // eslint-disable-next-line no-control-regex, no-useless-escape
    return exports.regexp(/^((([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, msg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.password({ required: validators.required('You definitely want a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.<span class="apidocCodeKeywordSpan">email</span>()
});
```

Rendering a HTML representation of the form:

```javascript
reg_form.toHTML();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.integer" id="apidoc.element.forms.validators.integer">
        function <span class="apidocSignatureSpan">forms.validators.</span>integer
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">integer = function (message) {
    return exports.regexp(/^-?\d+$/, message || 'Please enter an integer value.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    t.equals(err, undefined);
    t.end();
});
    });
});

test('integer', function (t) {
    var v = validators.<span class="apidocCodeKeywordSpan">integer</span>();

    t.test('valid integers', function (st) {
var valids = ['1', '10', '-1', '-10', '-10'];

st.plan(valids.length);
valids.forEach(function (input) {
    v('form', { data: input }, function (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.matchField" id="apidoc.element.forms.validators.matchField">
        function <span class="apidocSignatureSpan">forms.validators.</span>matchField
        <span class="apidocSignatureSpan">(match_field, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">matchField = function (match_field, message) {
    var msg = message || 'Does not match %s.';
    return function (form, field, callback) {
        if (form.fields[match_field].data !== field.data) {
            callback(format(msg, match_field));
        } else {
            callback();
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var validators = forms.validators;

var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.password({ required: validators.required('You definitely want a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.<span class="apidocCodeKeywordSpan">matchField</span>('password')]
    }),
    email: fields.email()
});
```

Rendering a HTML representation of the form:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.matchValue" id="apidoc.element.forms.validators.matchValue">
        function <span class="apidocSignatureSpan">forms.validators.</span>matchValue
        <span class="apidocSignatureSpan">(valueGetter, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">matchValue = function (valueGetter, message) {
    if (!is.fn(valueGetter)) {
        throw new TypeError('valueGetter must be a function');
    }
    var msg = message || '%s does not match expected value: "%s"';
    return function (form, field, callback) {
        var expected = valueGetter();
        if (field.data !== expected) {
            callback(format(msg, formatFieldName(field), expected));
        } else {
            callback();
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

test('matchValue', function (t) {
var data = { fields: { field1: { data: 'one' } } };

t.test('passes when matching the value', function (st) {
    var getter = function () { return 'one'; };
    var v = validators.<span class="apidocCodeKeywordSpan">matchValue</span>(getter, 'name: %s | value: %s');
    st.plan(1);
    v(data, data.fields.field1, function (err) {
        st.equal(err, undefined);
        st.end();
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.max" id="apidoc.element.forms.validators.max">
        function <span class="apidocSignatureSpan">forms.validators.</span>max
        <span class="apidocSignatureSpan">(val, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">max = function (val, message) {
    var msg = message || 'Please enter a value less than or equal to %s.';
    return function (form, field, callback) {
        if (field.data &lt;= val) {
            callback();
        } else {
            callback(format(msg, val));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            t.end();
        });
    });
});

test('max', function (t) {
    t.plan(2);
    validators.<span class="apidocCodeKeywordSpan">max</span>(100, 'Value must be less than or equal to %s.')('form
', { data: 150 }, function (tooBigError) {
        t.equal(tooBigError, 'Value must be less than or equal to 100.');
        validators.max(100)('form', { data: 100 }, function (err) {
            t.equal(err, undefined);
            t.end();
        });
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.maxlength" id="apidoc.element.forms.validators.maxlength">
        function <span class="apidocSignatureSpan">forms.validators.</span>maxlength
        <span class="apidocSignatureSpan">(val, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxlength = function (val, message) {
    var msg = message || 'Please enter no more than %s characters.';
    return function (form, field, callback) {
        if (field.data.length &lt;= val) {
            callback();
        } else {
            callback(format(msg, val));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            t.end();
        });
    });
});

test('maxlength', function (t) {
    t.plan(2);
    validators.<span class="apidocCodeKeywordSpan">maxlength</span>(5)('form', { data: '123456' }, function (
tooLongError) {
        t.equal(tooLongError, 'Please enter no more than 5 characters.');
        validators.maxlength(5)('form', { data: '12345' }, function (err) {
            t.equal(err, undefined);
            t.end();
        });
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.min" id="apidoc.element.forms.validators.min">
        function <span class="apidocSignatureSpan">forms.validators.</span>min
        <span class="apidocSignatureSpan">(val, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">min = function (val, message) {
    var msg = message || 'Please enter a value greater than or equal to %s.';
    return function (form, field, callback) {
        if (field.data &gt;= val) {
            callback();
        } else {
            callback(format(msg, val));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            });
        });
    });
});

test('min', function (t) {
    t.plan(2);
    validators.<span class="apidocCodeKeywordSpan">min</span>(100, 'Value must be greater than or equal to %s.')('
;form', { data: 50 }, function (tooSmallError) {
        t.equal(tooSmallError, 'Value must be greater than or equal to 100.');
        validators.min(100)('form', { data: 100 }, function (err) {
            t.equal(err, undefined);
            t.end();
        });
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.minlength" id="apidoc.element.forms.validators.minlength">
        function <span class="apidocSignatureSpan">forms.validators.</span>minlength
        <span class="apidocSignatureSpan">(val, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">minlength = function (val, message) {
    var msg = message || 'Please enter at least %s characters.';
    return function (form, field, callback) {
        if (field.data.length &gt;= val) {
            callback();
        } else {
            callback(format(msg, val));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
    });
    t.end();
});

test('minlength', function (t) {
    t.plan(2);
    validators.<span class="apidocCodeKeywordSpan">minlength</span>(5, 'Enter at least %s characters.')('form'
;, { data: '1234' }, function (tooShortError) {
        t.equal(tooShortError, 'Enter at least 5 characters.');
        validators.minlength(5)('form', { data: '12345' }, function (err) {
            t.equal(err, undefined);
            t.end();
        });
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.range" id="apidoc.element.forms.validators.range">
        function <span class="apidocSignatureSpan">forms.validators.</span>range
        <span class="apidocSignatureSpan">(min, max, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">range = function (min, max, message) {
    var msg = message || 'Please enter a value between %s and %s.';
    return function (form, field, callback) {
        if (field.data &gt;= min &amp;&amp; field.data &lt;= max) {
            callback();
        } else {
            callback(format(msg, min, max));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            t.end();
        });
    });
});

test('range', function (t) {
    t.plan(2);
    validators.<span class="apidocCodeKeywordSpan">range</span>(10, 20, 'Value must be between %s and %s.')('form
', { data: 50 }, function (rangeError) {
        t.equal(rangeError, 'Value must be between 10 and 20.');
        validators.range(10, 20)('form', { data: 15 }, function (err) {
            t.equal(err, undefined);
            t.end();
        });
    });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.rangelength" id="apidoc.element.forms.validators.rangelength">
        function <span class="apidocSignatureSpan">forms.validators.</span>rangelength
        <span class="apidocSignatureSpan">(min, max, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rangelength = function (min, max, message) {
    var msg = message || 'Please enter a value between %s and %s characters long.';
    return function (form, field, callback) {
        if (field.data.length &gt;= min &amp;&amp; field.data.length &lt;= max) {
            callback();
        } else {
            callback(format(msg, min, max));
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        t.end();
    });
});
});

test('rangelength', function (t) {
t.plan(4);
validators.<span class="apidocCodeKeywordSpan">rangelength</span>(2, 4, 'Enter between %s and %s characters.')('form
', { data: '12345' }, function (err) {
    t.equal(err, 'Enter between 2 and 4 characters.');
});
validators.rangelength(2, 4)('form', { data: '1' }, function (err) {
    t.equal(err, 'Please enter a value between 2 and 4 characters long.');
});
validators.rangelength(2, 4)('form', { data: '12' }, function (err) {
    t.equal(err, undefined);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.regexp" id="apidoc.element.forms.validators.regexp">
        function <span class="apidocSignatureSpan">forms.validators.</span>regexp
        <span class="apidocSignatureSpan">(regex, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">regexp = function (regex, message) {
    var msg = message || 'Invalid format.';
    var re = new RegExp(regex);
    return function (form, field, callback) {
        if (re.test(field.data)) {
            callback();
        } else {
            callback(msg);
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

exports.email = function (message) {
var msg = message || 'Please enter a valid email address.';
// regular expression by Scott Gonzalez:
// http://projects.scottsplayground.com/email_address_validation/
// eslint-disable-next-line no-control-regex, no-useless-escape
return exports.<span class="apidocCodeKeywordSpan">regexp</span>(/^((([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\
uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&amp;'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, msg);
};

exports.url = function (include_localhost, message) {
var msg = message || 'Please enter a valid URL.';
// regular expression by Scott Gonzalez:
// http://projects.scottsplayground.com/iri/
// eslint-disable-next-line no-control-regex, no-useless-escape
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.required" id="apidoc.element.forms.validators.required">
        function <span class="apidocSignatureSpan">forms.validators.</span>required
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">required = function (message) {
    var msg = message || '%s is required.';
    return function (form, field, callback) {
        if (trim(field.data || '').length === 0) {
            callback(format(msg, formatFieldName(field)));
        } else {
            callback();
        }
    };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.password({ required: validators.<span class="apidocCodeKeywordSpan">required</span>('You definitely want
 a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.email()
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.requiresFieldIfEmpty" id="apidoc.element.forms.validators.requiresFieldIfEmpty">
        function <span class="apidocSignatureSpan">forms.validators.</span>requiresFieldIfEmpty
        <span class="apidocSignatureSpan">(alternate_field, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">requiresFieldIfEmpty = function (alternate_field, message) {
    var msg = message || 'One of %s or %s is required.';
    var validator = function (form, field, callback) {
        var alternateBlank = trim(form.fields[alternate_field].data || '').length === 0;
        var fieldBlank = trim(field.data || '').length === 0;
        if (alternateBlank &amp;&amp; fieldBlank) {
            callback(format(msg, formatFieldName(field), alternate_field));
        } else {
            callback();
        }
    };
    validator.forceValidation = true;
    return validator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
email: fields.email({ required: true, label: 'Email Address' }),
website: fields.url(),
password: fields.password({ required: true }),
password_confirm: fields.password({
    required: true,
    validators: [validators.matchField('password')]
}),
phone_1: fields.string({ validators: [validators.<span class="apidocCodeKeywordSpan">requiresFieldIfEmpty</span>('phone_2&amp;#
x27;)] }),
phone_2: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_1')] }),
options: fields.string({
    choices: {
        one: 'option one',
        two: 'option two',
        three: 'option three'
    },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.validators.url" id="apidoc.element.forms.validators.url">
        function <span class="apidocSignatureSpan">forms.validators.</span>url
        <span class="apidocSignatureSpan">(include_localhost, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">url = function (include_localhost, message) {
    var msg = message || 'Please enter a valid URL.';
    // regular expression by Scott Gonzalez:
    // http://projects.scottsplayground.com/iri/
    // eslint-disable-next-line no-control-regex, no-useless-escape
    var external_regex = /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
    // eslint-disable-next-line no-useless-escape
    var with_localhost_regex = /^(https?|ftp):\/\/(localhost|((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&amp;'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;
    return exports.regexp(include_localhost ? with_localhost_regex : external_regex, msg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'data-toggle': 'focus'
});
*/

var complexForm = forms.create({
name: fields.string({ required: validators.required('%s is required, silly!') }),
email: fields.email({ required: true, label: 'Email Address' }),
website: fields.<span class="apidocCodeKeywordSpan">url</span>(),
password: fields.password({ required: true }),
password_confirm: fields.password({
    required: true,
    validators: [validators.matchField('password')]
}),
phone_1: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_2')] }),
phone_2: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_1')] }),
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.forms.widgets" id="apidoc.module.forms.widgets">module forms.widgets</a></h1>


    <h2>
        <a href="#apidoc.element.forms.widgets.checkbox" id="apidoc.element.forms.widgets.checkbox">
        function <span class="apidocSignatureSpan">forms.widgets.</span>checkbox
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkbox = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        type: 'checkbox'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: 'checkbox',
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            checked: !!f.value,
            value: 'on'
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return f;
};

exports['boolean'] = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);

    f.widget = opts.widget || forms.widgets.<span class="apidocCodeKeywordSpan">checkbox</span>(opts.attrs || {});
    f.parse = function (raw_data) {
        return !!raw_data;
    };
    return f;
};

exports.email = function (opt) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.color" id="apidoc.element.forms.widgets.color">
        function <span class="apidocSignatureSpan">forms.widgets.</span>color
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">color = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    t.equal(err, undefined);
});
t.end();
});

test('color', function (t) {
t.test('valid colors', function (st) {
    var v = validators.<span class="apidocCodeKeywordSpan">color</span>();
    var valids = ['#ABC', '#DEF123', '#ABCDEF12', '#01234567', '#890'];
    st.plan(valids.length);
    valids.forEach(function (color) {
        v('form', { data: color }, function (err) {
            st.equal(err, undefined);
        });
    });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.date" id="apidoc.element.forms.widgets.date">
        function <span class="apidocSignatureSpan">forms.widgets.</span>date
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">date = function (opt) {
    var w = dateWidget(opt);
    w.formatValue = function (value) {
        if (!value) {
            return null;
        }

        var date = is.date(value) ? value : new Date(value);

        if (isNaN(date.getTime())) {
            return null;
        }

        return date.toISOString().slice(0, 10);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return f;
};

exports.date = function (opt) {
    var opts = assign({}, opt);
    var f = exports.string(opts);
    if (f.validators) {
        f.validators.unshift(forms.validators.<span class="apidocCodeKeywordSpan">date</span>());
    } else {
        f.validators = [forms.validators.date()];
    }
    return f;
};

exports.object = function (fields, opts) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.email" id="apidoc.element.forms.widgets.email">
        function <span class="apidocSignatureSpan">forms.widgets.</span>email
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">email = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.password({ required: validators.required('You definitely want a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.<span class="apidocCodeKeywordSpan">email</span>()
});
```

Rendering a HTML representation of the form:

```javascript
reg_form.toHTML();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.hidden" id="apidoc.element.forms.widgets.hidden">
        function <span class="apidocSignatureSpan">forms.widgets.</span>hidden
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hidden = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            '&lt;input type="text" name="fieldname" /&gt;' +
        '&lt;/' + tag + '&gt;'
    );
    t.end();
});

test(tag + ' hidden label', function (t) {
    var f = forms.create({ fieldname: forms.fields.string({ widget: forms.widgets.<span class="apidocCodeKeywordSpan">hidden</span>() }) });
    t.equal(
        f.toHTML(forms.render[tag]),
        '&lt;' + tag + ' class="field"&gt;' +
            '&lt;input type="hidden" name="fieldname" id="id_fieldname" /&gt;' +
        '&lt;/' + tag + '&gt;'
    );
    t.end();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.label" id="apidoc.element.forms.widgets.label">
        function <span class="apidocSignatureSpan">forms.widgets.</span>label
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">label = function (options) {
    var opt = options || {};
    var w = { classes: opt.classes || [] };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (forID) {
        var attrs = {
            'for': forID,
            classes: w.classes
        };
        return tag('label', [attrs, userAttrs, w.attrs || {}], opt.content);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        });
    }
    return text || '';
};
f.labelHTML = function (name, id) {
    if (this.widget.type === 'hidden') { return ''; }
    var forID = id === false ? false : (id || 'id_' + name);
    return forms.widgets.<span class="apidocCodeKeywordSpan">label</span>({
        classes: typeof this.cssClasses !== 'undefined' ? coerceArray(this.cssClasses.label) : [],
        content: this.labelText(name, id)
    }).toHTML(forID, f);
};
f.classes = function () {
    var r = ['field'];
    if (this.error) { r.push('error'); }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.multipleCheckbox" id="apidoc.element.forms.widgets.multipleCheckbox">
        function <span class="apidocSignatureSpan">forms.widgets.</span>multipleCheckbox
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multipleCheckbox = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        labelClasses: opt.labelClasses,
        type: 'multipleCheckbox'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var choices = unifyChoices(f.choices, 0);
        return renderChoices(choices, function (choice) {
            // input element
            var id = f.id === false ? false : (f.id ? f.id + '_' + choice.value : 'id_' + name + '_' + choice.value);
            var checked = isSelected(f.value, choice.value);

            var attrs = {
                type: 'checkbox',
                name: name,
                id: id,
                classes: w.classes,
                value: choice.value,
                checked: !!checked
            };
            var inputHTML = tag('input', [attrs, userAttrs, w.attrs || {}]);

            // label element
            var labelHTML = tag('label', { 'for': id, classes: w.labelClasses }, choice.label);

            return inputHTML + labelHTML;
        });
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                callback();
            }
        }
    ]
}),
more_options: fields.array({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.<span class="apidocCodeKeywordSpan">multipleCheckbox</span>()
}),
even_more: fields.string({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleRadio()
}),
and_more: fields.array({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.multipleRadio" id="apidoc.element.forms.widgets.multipleRadio">
        function <span class="apidocSignatureSpan">forms.widgets.</span>multipleRadio
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multipleRadio = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        labelClasses: opt.labelClasses,
        type: 'multipleRadio'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var choices = unifyChoices(f.choices, 0);
        return renderChoices(choices, function (choice) {
            // input element
            var id = f.id === false ? false : (f.id ? f.id + '_' + choice.value : 'id_' + name + '_' + choice.value);
            var checked = isSelected(f.value, choice.value);
            var attrs = {
                type: 'radio',
                name: name,
                id: id,
                classes: w.classes,
                value: choice.value,
                checked: !!checked
            };
            var inputHTML = tag('input', [attrs, userAttrs, w.attrs || {}]);
            // label element
            var labelHTML = tag('label', { 'for': id, classes: w.labelClasses }, choice.label);

            return inputHTML + labelHTML;
        });
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}),
more_options: fields.array({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleCheckbox()
}),
even_more: fields.string({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.<span class="apidocCodeKeywordSpan">multipleRadio</span>()
}),
and_more: fields.array({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleSelect()
}),
notes: fields.string({ widget: widgets.textarea({ rows: 6 }) }),
spam_me: fields['boolean'](),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.multipleSelect" id="apidoc.element.forms.widgets.multipleSelect">
        function <span class="apidocSignatureSpan">forms.widgets.</span>multipleSelect
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">multipleSelect = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        type: isMultiple ? 'multipleSelect' : 'select'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var choices = unifyChoices(f.choices, 1);
        var optionsHTML = renderChoices(choices, function render(choice) {
            if (choice.isNested) {
                return tag('optgroup', { label: choice.label }, renderChoices(choice.choices, render), true);
            } else {
                return tag('option', { value: choice.value, selected: !!isSelected(f.value, choice.value) }, choice.label);
            }
        });
        var attrs = {
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes
        };
        if (isMultiple) {
            attrs.multiple = true;
        }
        return tag('select', [attrs, userAttrs, w.attrs || {}], optionsHTML, true);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }),
    even_more: fields.string({
        choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
        widget: widgets.multipleRadio()
    }),
    and_more: fields.array({
        choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
        widget: widgets.<span class="apidocCodeKeywordSpan">multipleSelect</span>()
    }),
    notes: fields.string({ widget: widgets.textarea({ rows: 6 }) }),
    spam_me: fields['boolean'](),
    nested_1: { nested_2: { nested: fields.string() } }
});

http.createServer(function (req, res) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.number" id="apidoc.element.forms.widgets.number">
        function <span class="apidocSignatureSpan">forms.widgets.</span>number
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">number = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    name: fields.string({ required: true, label: 'Name' }),
    email: fields.email({ required: true, label: 'Email' }),
    address: {
        address1: fields.string({ required: true, label: 'Address 1' }),
        address2: fields.string({ label: 'Address 2' }),
        city: fields.string({ required: true, label: 'City' }),
        state: fields.string({ required: true, label: 'State' }),
        zip: fields.<span class="apidocCodeKeywordSpan">number</span>({ required: true, label: 'ZIP' })
    }
}
});

http.createServer(function (req, res) {
reg_form.handle(req, {
    success: function (form) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.password" id="apidoc.element.forms.widgets.password">
        function <span class="apidocSignatureSpan">forms.widgets.</span>password
        <span class="apidocSignatureSpan">(opt)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">password = function (opt) {
    var w = passwordWidget(opt);
    w.formatValue = passwordFormatValue;
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
var forms = require('forms');
var fields = forms.fields;
var validators = forms.validators;

var reg_form = forms.create({
    username: fields.string({ required: true }),
    password: fields.<span class="apidocCodeKeywordSpan">password</span>({ required: validators.required('You definitely want
 a password') }),
    confirm:  fields.password({
        required: validators.required('don\'t you know your own password?'),
        validators: [validators.matchField('password')]
    }),
    email: fields.email()
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.select" id="apidoc.element.forms.widgets.select">
        function <span class="apidocSignatureSpan">forms.widgets.</span>select
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        type: isMultiple ? 'multipleSelect' : 'select'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var choices = unifyChoices(f.choices, 1);
        var optionsHTML = renderChoices(choices, function render(choice) {
            if (choice.isNested) {
                return tag('optgroup', { label: choice.label }, renderChoices(choice.choices, render), true);
            } else {
                return tag('option', { value: choice.value, selected: !!isSelected(f.value, choice.value) }, choice.label);
            }
        });
        var attrs = {
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes
        };
        if (isMultiple) {
            attrs.multiple = true;
        }
        return tag('select', [attrs, userAttrs, w.attrs || {}], optionsHTML, true);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
phone_2: fields.string({ validators: [validators.requiresFieldIfEmpty('phone_1')] }),
options: fields.string({
    choices: {
        one: 'option one',
        two: 'option two',
        three: 'option three'
    },
    widget: widgets.<span class="apidocCodeKeywordSpan">select</span>(),
    validators: [
        function (form, field, callback) {
            if (field.data === 'two') {
                callback('two?! are you crazy?!');
            } else {
                callback();
            }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.tel" id="apidoc.element.forms.widgets.tel">
        function <span class="apidocSignatureSpan">forms.widgets.</span>tel
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tel = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    f.validators = [forms.validators.email()];
}
return f;
};

exports.tel = function (opt) {
var opts = assign({}, opt);
if (!opts.widget) { opts.widget = forms.widgets.<span class="apidocCodeKeywordSpan">tel</span>(opts.attrs || {}); }
return exports.string(opts);
};

exports.password = function (opt) {
var opts = assign({}, opt);
var f = exports.string(opts);
f.widget = opts.widget || forms.widgets.password(opts.attrs || {});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.text" id="apidoc.element.forms.widgets.text">
        function <span class="apidocSignatureSpan">forms.widgets.</span>text
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (opts) {
    var opt = opts || {};
    var userAttrs = getUserAttrs(opt);
    var w = {
        classes: opt.classes,
        type: type,
        formatValue: function (value) {
            return (value || value === 0) ? value : null;
        }
    };
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            type: type,
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            value: w.formatValue(f.value)
        };
        return tag('input', [attrs, userAttrs, w.attrs || {}]);
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
var widgets = require('forms').widgets;

var my_form = forms.create({
title: fields.string({
    required: true,
    widget: widgets.<span class="apidocCodeKeywordSpan">text</span>({ classes: ['input-with-feedback'] }),
    errorAfterField: true,
    cssClasses: {
        label: ['control-label col col-lg-3']
    }
}),
description: fields.string({
    errorAfterField: true,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.forms.widgets.textarea" id="apidoc.element.forms.widgets.textarea">
        function <span class="apidocSignatureSpan">forms.widgets.</span>textarea
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">textarea = function (options) {
    var opt = options || {};
    var w = {
        classes: opt.classes,
        type: 'textarea'
    };
    var userAttrs = getUserAttrs(opt);
    w.toHTML = function (name, field) {
        var f = field || {};
        var attrs = {
            name: name,
            id: f.id === false ? false : (f.id || true),
            classes: w.classes,
            rows: opt.rows || null,
            cols: opt.cols || null
        };
        return tag('textarea', [attrs, userAttrs, w.attrs || {}], f.value || '');
    };
    return w;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleRadio()
}),
and_more: fields.array({
    choices: { one: 'item 1', two: 'item 2', three: 'item 3' },
    widget: widgets.multipleSelect()
}),
notes: fields.string({ widget: widgets.<span class="apidocCodeKeywordSpan">textarea</span>({ rows: 6 }) }),
spam_me: fields['boolean'](),
nested_1: { nested_2: { nested: fields.string() } }
});

http.createServer(function (req, res) {
complexForm.handle(req, {
    success: function (form) {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>